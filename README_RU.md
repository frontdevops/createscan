# PDF Scanner Effect

Bash/ZSH скрипт для macOS, который преобразует PDF документы в "отсканированный" вид с реалистичными шумами, небольшими поворотами страниц и артефактами сканирования.

## Возможности

- Реалистичные эффекты сканера/ксерокса
- Гауссовский шум и зернистость
- Случайные повороты страниц (±0,5°)
- Цветной или черно-белый режимы
- Смешанный режим (ч/б документ + цветная подпись на последней странице)
- Сжатие PDF

## Установка

### Зависимости

```bash
brew install imagemagick ghostscript
```

### Скачивание

```bash
git clone https://github.com/yourusername/pdf-scanner-effect.git
cd pdf-scanner-effect
chmod +x simple_scanner.sh
```

## Использование

### Базовое использование

```bash
# Цветной скан (по умолчанию)
./simple_scanner.sh input.pdf output.pdf

# Черно-белый скан
./simple_scanner.sh -g input.pdf output.pdf

# Смешанный режим: ч/б + цветная подпись на последней странице
./simple_scanner.sh -s input.pdf output.pdf
```

### Опции

- `-c, --color` - Цветной скан (по умолчанию)
- `-g, --gray` - Черно-белый скан
- `-s, --signature` - Ч/б документ с цветной подписью на последней странице
- `-h, --help` - Показать справку

## Примеры

```bash
# Обработать договор с цветной подписью
./simple_scanner.sh -s contract.pdf scanned_contract.pdf

# Создать черно-белый скан
./simple_scanner.sh -g document.pdf document_scan.pdf
```

## Применяемые эффекты

- **Шум**: Гауссовский шум для реалистичной зернистости
- **Поворот**: Случайный поворот ±0,5° на страницу
- **Размытие**: Небольшое размытие для имитации движения сканера
- **Контрастность**: Настройка контраста для аутентичного вида
- **Сжатие**: Снижение качества для реалистичного размера файла

## Технические детали

- Вход: PDF файлы
- Выход: PDF с эффектами сканирования
- Обработка: Конвертация в PNG 300 DPI, применение эффектов, обратная конвертация в PDF
- Временные файлы: Автоматическая очистка

## Требования

- macOS
- ImageMagick 7+
- Ghostscript 9+
- Bash/Zsh

## Лицензия

MIT License

## Участие в разработке

Pull request'ы приветствуются. Пожалуйста, протестируйте на различных типах PDF перед отправкой.

## Устранение неполадок

**Ошибка: "Unknown device: png16malpha"**
```bash
brew install ghostscript
```

**Ошибка: "magick: command not found"**
```bash
brew install imagemagick
```

**Страницы слишком сильно повернуты**
- Поворот ограничен ±0,5° для предотвращения выхода страниц за границы

## Требования

Использует ImageMagick и Ghostscript для обработки PDF и манипуляций с изображениями.
